+++
# vim:formatoptions=tj
# vim:textwidth=100
title = "Git: с нуля до профессионала"
date = 2024-08-18

[taxonomies]
tags=["git"]

[extra]
repo_view = true
+++

TOC:

- основы гита;
- про мерж (сквош, мерж и ребаза);
- хуки (?)

## Введение

Привет!

Меня зовут Матвей, я занимаюсь Front-end разработкой. Вот уже на протяжении 4 лет я каждый день
использую систему контроля версий (англ. VCS - version system control), в частности git.

Все мы прекрасно понимаем важность и необходимость в использовании данного инструмента при
совместной разработке. Один из больших плюсов Git является тот факт, что исходный код хранится не на
единой машине (центральном сервере). Вместо этого он работает полностью локально, сохраняя все
необходимые данные на вашей персональной машине. Данная директория называется репозиторием. Его
можно синхронизировать с удаленным сервером, что позволяет нескольким людям одновременно работать
над одним и тем же проектом и изменять одни и те же файлы. Частным примером подобных сервисов по
хранению репозиториев являются GitHub, Bitbucket и GitLab, а также многие другие.

## Базовые команды

А теперь перейдем к практике. Для этого создадим тестовый репозиторий, на котором посмотрим основные
команды.

{{ asciinema(id="kmet2M7BAEQtXufn00Tj8vPGi") }}

```bash
$ mkdir test
$ cd test
$ git init
```

Теперь создадим текстовый файл, с которым будем работать.
{{ asciinema(id="N2NHPsAZQAkq62fpaTGxccE4f") }}

```bash
$ echo 'This is a test repository' > README.md
$ git status
On branch main

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	README.md

nothing added to commit but untracked files present (use "git add" to track)
```

Обратите внимание на последнюю команду - `git status`. Она позволяет просмотреть текущее состояние
репозитория. Давайте подробнее рассмотрим, что она выводит на экран:

- `On branch main` - данная строка отображает, какая ветка сейчас является активной. По-умолчанию
  используются названия `main` или `master`. С ветками и их назначением мы познакомимся в следующей
  главе;

- `No commits yet` - данная строка говорит, что на данный момент мы не сделали ни одного коммита.
  Что такое коммит и зачем он нам необходим мы рассмотрим немного позднее в этой главе;

- `Untracked files` - список файлов, новых для репозитория. Иными словами это те файлы, которые были
  нами созданы в первый раз. Поскольку мы создали новый файл `README.md`, он отображается в этом
  списке.

Итак, что же такое этот "коммит"? По-сути, это набор изменений, которые мы постепенно применяем к
текущему состоянию репозитория. Чтобы сохранить текущее состояние, необходимо добавить созданный
нами файл в так называемый `stage`. Для этого воспользуемся командой `git add`.

```bash
$ git add README.md
```

Данная команда "одобрила" файл `README.md` к добавлению в наш коммит. Проверим статус репозитория,
вновь выполнив команду `git status`

```bash
$ git status
On branch main
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   README.md
```

Как видно из вывода в консоли - файл `README.md` находится в списке `Changes to be committed`. Это
говорит о том, что при создании коммита все изменения в этом файле будут сохранены. Выполним команду
`git commit`, чтобы создать наш первый коммит. Данная команда ожидает сообщение, в котором
_**желательно**_ описывать кратко, что было изменено. По-умолчанию, git откроет редактор
по-умолчанию в вашей системе. Однако можно пропустить этот шаг, если указать сообщение передав
сообщение в параметре `--message` (`-m`):

```bash
$ git commit -m 'Initial commit'
[main d05e022] Initial commit
 1 file changed, 1 insertion(+)
 create mode 100644 README.md
```

После выполнения данной команды git выводит небольшую сводку о созданном коммите. В ней содержится
такая информация, как:

- `main` - наименование текущей ветки;
- `d05e022` - первые 7 символов SHA-256 хэша коммита;
- `Initial commit` - сообщение, которое мы указывали;
- нижние строки показывают, сколько файлов затронул созданный коммит, сколько строк было добавлено
  по сравнению с прошлым состоянием, а также список созданных файлов.

{{ asciinema(id="Ls1tD0nYdl34GklWyRIGn9QFr") }}
